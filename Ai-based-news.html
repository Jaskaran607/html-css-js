<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI News Hub - Your Personalized News Experience</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #f59e0b;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --border-color: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --border-color: #374151;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            transition: all 0.3s ease;
        }

        /* Header */
        .header {
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary-color);
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            transition: color 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }

        .nav-link:hover {
            color: var(--primary-color);
            background-color: var(--bg-secondary);
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.5rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-1px);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s ease;
        }

        .theme-toggle:hover {
            background-color: var(--bg-secondary);
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-primary);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 4rem 1rem;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        /* Search Section */
        .search-section {
            background: var(--bg-secondary);
            padding: 2rem 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .search-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .search-bar {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            font-size: 1rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: border-color 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .search-btn {
            padding: 0.75rem 1.5rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .search-btn:hover {
            background: var(--secondary-color);
        }

        /* Category Filters */
        .category-filters {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .category-btn {
            padding: 0.5rem 1rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
            border-radius: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .category-btn:hover,
        .category-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
        }

        /* News Grid */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .news-card {
            background: var(--bg-primary);
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .news-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .news-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: var(--bg-secondary);
        }

        .news-content {
            padding: 1.5rem;
        }

        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .news-source {
            background: var(--accent-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-weight: 600;
        }

        .news-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            line-height: 1.4;
            color: var(--text-primary);
        }

        .news-summary {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .news-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .read-more {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .read-more:hover {
            color: var(--secondary-color);
        }

        .save-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .save-btn:hover,
        .save-btn.saved {
            color: var(--accent-color);
        }

        /* Featured News */
        .featured-news {
            margin-bottom: 3rem;
        }

        .featured-card {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            background: var(--bg-primary);
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .featured-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .featured-content {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .featured-title {
            font-size: 1.75rem;
            font-weight: 800;
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        /* Loading Animation */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--bg-primary);
            padding: 2rem;
            border-radius: 1rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            font-size: 1rem;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .checkbox-item input[type="checkbox"] {
            width: 1.2rem;
            height: 1.2rem;
            accent-color: var(--primary-color);
        }

        /* Footer */
        .footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: 3rem 1rem 1rem;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
            color: var(--text-secondary);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .search-bar {
                flex-direction: column;
            }

            .category-filters {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 0.5rem;
            }

            .news-grid {
                grid-template-columns: 1fr;
            }

            .featured-card {
                grid-template-columns: 1fr;
            }

            .featured-image {
                height: 200px;
            }

            .featured-content {
                padding: 1.5rem;
            }

            .featured-title {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .nav-container {
                padding: 0 0.5rem;
            }

            .hero {
                padding: 2rem 0.5rem;
            }

            .main-content {
                padding: 1rem 0.5rem;
            }

            .news-content {
                padding: 1rem;
            }

            .modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <a href="#" class="logo">AI News Hub</a>
            
            <ul class="nav-menu">
                <li><a href="#" class="nav-link" onclick="showSection('home')">Home</a></li>
                <li><a href="#" class="nav-link" onclick="showSection('personalized')">My Feed</a></li>
                <li><a href="#" class="nav-link" onclick="showSection('saved')">Saved</a></li>
                <li><a href="#" class="nav-link" onclick="showSection('admin')">Admin</a></li>
            </ul>

            <div class="auth-buttons">
                <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™</button>
                <button class="btn btn-outline" onclick="showModal('login')">Login</button>
                <button class="btn btn-primary" onclick="showModal('register')">Register</button>
                <button class="mobile-menu-btn">â˜°</button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>AI-Powered News Aggregation</h1>
            <p>Stay informed with personalized news summaries powered by artificial intelligence. Get the latest updates from trusted sources, tailored to your interests.</p>
            <button class="btn btn-primary" onclick="showModal('preferences')">Customize Your Feed</button>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
        <div class="search-container">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Search news by keyword, topic, or source..." id="searchInput">
                <button class="search-btn" onclick="searchNews()">Search</button>
            </div>
            
            <div class="category-filters">
                <button class="category-btn active" onclick="filterByCategory('all')">All</button>
                <button class="category-btn" onclick="filterByCategory('technology')">Technology</button>
                <button class="category-btn" onclick="filterByCategory('sports')">Sports</button>
                <button class="category-btn" onclick="filterByCategory('business')">Business</button>
                <button class="category-btn" onclick="filterByCategory('science')">Science</button>
                <button class="category-btn" onclick="filterByCategory('health')">Health</button>
                <button class="category-btn" onclick="filterByCategory('entertainment')">Entertainment</button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Section -->
        <div id="home-section">
            <!-- Featured News -->
            <section class="featured-news">
                <h2 class="section-title">Featured Story</h2>
                <div class="featured-card">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23e5e7eb'/%3E%3Ctext x='200' y='150' text-anchor='middle' fill='%236b7280' font-size='16' font-family='Arial'%3EFeatured News Image%3C/text%3E%3C/svg%3E" alt="Featured news" class="featured-image">
                    <div class="featured-content">
                        <div class="news-meta">
                            <span class="news-source">Tech Today</span>
                            <span>2 hours ago</span>
                        </div>
                        <h3 class="featured-title">AI Revolution: How Machine Learning is Transforming Modern Journalism</h3>
                        <p class="news-summary">Artificial intelligence is revolutionizing the way news is gathered, processed, and delivered to audiences worldwide. From automated content generation to personalized news feeds, AI technologies are reshaping the media landscape and improving how we consume information.</p>
                        <div class="news-actions">
                            <a href="#" class="read-more">Read Full Article</a>
                            <button class="save-btn" onclick="toggleSave(this)">ðŸ”–</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Latest News -->
            <section>
                <h2 class="section-title">Latest Headlines</h2>
                <div class="news-grid" id="newsGrid">
                    <!-- News cards will be dynamically loaded here -->
                </div>
                <div class="loading" id="loadingSpinner">
                    <div class="spinner"></div>
                </div>
            </section>
        </div>

        <!-- Personalized Feed Section -->
        <div id="personalized-section" style="display: none;">
            <h2 class="section-title">Your Personalized Feed</h2>
            <div class="news-grid" id="personalizedGrid">
                <!-- Personalized news will be loaded here -->
            </div>
        </div>

        <!-- Saved Articles Section -->
        <div id="saved-section" style="display: none;">
            <h2 class="section-title">Saved Articles</h2>
            <div class="news-grid" id="savedGrid">
                <!-- Saved articles will be displayed here -->
            </div>
        </div>

        <!-- Admin Panel Section -->
        <div id="admin-section" style="display: none;">
            <h2 class="section-title">Admin Dashboard</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                <div class="news-card">
                    <div class="news-content">
                        <h3 class="news-title">User Statistics</h3>
                        <p class="news-summary">Total Users: 1,247<br>Active Today: 89<br>Articles Read: 3,456</p>
                    </div>
                </div>
                <div class="news-card">
                    <div class="news-content">
                        <h3 class="news-title">Content Management</h3>
                        <p class="news-summary">Total Articles: 15,678<br>Sources: 25<br>Categories: 7</p>
                        <button class="btn btn-primary" style="margin-top: 1rem;">Manage Sources</button>
                    </div>
                </div>
                <div class="news-card">
                    <div class="news-content">
                        <h3 class="news-title">AI Performance</h3>
                        <p class="news-summary">Summaries Generated: 2,345<br>Accuracy Rate: 94.2%<br>Processing Time: 1.2s avg</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2024 AI News Hub. All rights reserved. | Powered by AI Technology</p>
        </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Login to Your Account</h3>
                <button class="close-btn" onclick="closeModal('login')">&times;</button>
            </div>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Create Your Account</h3>
                <button class="close-btn" onclick="closeModal('register')">&times;</button>
            </div>
            <form onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Create Account</button>
            </form>
        </div>
    </div>

    <!-- Preferences Modal -->
    <div class="modal" id="preferencesModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Customize Your News Feed</h3>
                <button class="close-btn" onclick="closeModal('preferences')">&times;</button>
            </div>
            <form onsubmit="handlePreferences(event)">
                <div class="form-group">
                    <label class="form-label">Select Your Interests</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="tech" value="technology" checked>
                            <label for="tech">Technology</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="sports" value="sports">
                            <label for="sports">Sports</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="business" value="business" checked>
                            <label for="business">Business</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="science" value="science">
                            <label for="science">Science</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="health" value="health">
                            <label for="health">Health</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="entertainment" value="entertainment">
                            <label for="entertainment">Entertainment</label>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Save Preferences</button>
            </form>
        </div>
    </div>

    <script>
        // Global state
        let currentUser = null;
        let userPreferences = ['technology', 'business'];
        let savedArticles = [];
        let currentCategory = 'all';
        let newsData = [];

        // Sample news data (in a real app, this would come from APIs)
        const sampleNews = [
            {
                id: 1,
                title: "Revolutionary AI Breakthrough in Medical Diagnosis",
                summary: "Scientists have developed an AI system that can diagnose rare diseases with 95% accuracy, potentially saving thousands of lives through early detection.",
                source: "Medical Journal",
                category: "science",
                publishedAt: "2024-01-15T10:30:00Z",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='350' height='200' viewBox='0 0 350 200'%3E%3Crect width='350' height='200' fill='%23ddd6fe'/%3E%3Ctext x='175' y='100' text-anchor='middle' fill='%237c3aed' font-size='14' font-family='Arial'%3EMedical AI%3C/text%3E%3C/svg%3E"
            },
            {
                id: 2,
                title: "Tech Giants Announce Major Climate Initiative",
                summary: "Leading technology companies have committed $50 billion to carbon neutrality projects, marking the largest corporate environmental investment in history.",
                source: "Tech News",
                category: "technology",
                publishedAt: "2024-01-15T08:15:00Z",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='350' height='200' viewBox='0 0 350 200'%3E%3Crect width='350' height='200' fill='%23dcfce7'/%3E%3Ctext x='175' y='100' text-anchor='middle' fill='%2316a34a' font-size='14' font-family='Arial'%3EClimate Tech%3C/text%3E%3C/svg%3E"
            },
            {
                id: 3,
                title: "Global Markets Surge on Economic Recovery Signs",
                summary: "Stock markets worldwide experienced significant gains as new economic data suggests a stronger recovery than previously anticipated.",
                source: "Financial Times",
                category: "business",
                publishedAt: "2024-01-15T06:45:00Z",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='350' height='200' viewBox='0 0 350 200'%3E%3Crect width='350' height='200' fill='%23fef3c7'/%3E%3Ctext x='175' y='100' text-anchor='middle' fill='%23d97706' font-size='14' font-family='Arial'%3EMarket News%3C/text%3E%3C/svg%3E"
            },
            {
                id: 4,
                title: "Championship Finals Draw Record Viewership",
                summary: "The season finale attracted over 100 million viewers globally, setting new records for sports broadcasting and digital streaming platforms.",
                source: "Sports Network",
                category: "sports",
                publishedAt: "2024-01-14T22:30:00Z",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='350' height='200' viewBox='0 0 350 200'%3E%3Crect width='350' height='200' fill='%23fee2e2'/%3E%3Ctext x='175' y='100' text-anchor='middle' fill='%23dc2626' font-size='14' font-family='Arial'%3ESports News%3C/text%3E%3C/svg%3E"
            },
            {
                id: 5,
                title: "New Health Study Reveals Surprising Benefits of Exercise",
                summary: "Researchers found that just 15 minutes of daily exercise can reduce the risk of chronic diseases by up to 40%, challenging previous recommendations.",
                source: "Health Today",
                category: "health",
                publishedAt: "2024-01-14T16:20:00Z",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='350' height='200' viewBox='0 0 350 200'%3E%3Crect width='350' height='200' fill='%23f0f9ff'/%3E%3Ctext x='175' y='100' text-anchor='middle' fill='%230284c7' font-size='14' font-family='Arial'%3EHealth News%3C/text%3E%3C/svg%3E"
            },
            {
                id: 6,
                title: "Hollywood Embraces AI in Film Production",
                summary: "Major studios are integrating artificial intelligence into movie production, from script analysis to visual effects, revolutionizing entertainment creation.",
                source: "Entertainment Weekly",
                category: "entertainment",
                publishedAt: "2024-01-14T14:10:00Z",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='350' height='200' viewBox='0 0 350 200'%3E%3Crect width='350' height='200' fill='%23fdf4ff'/%3E%3Ctext x='175' y='100' text-anchor='middle' fill='%23c026d3' font-size='14' font-family='Arial'%3EEntertainment%3C/text%3E%3C/svg%3E"
            }
        ];

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            newsData = [...sampleNews];
            loadNews();
            
            // Load saved preferences from localStorage
            const saved = localStorage.getItem('userPreferences');
            if (saved) {
                userPreferences = JSON.parse(saved);
            }
            
            const savedArts = localStorage.getItem('savedArticles');
            if (savedArts) {
                savedArticles = JSON.parse(savedArts);
            }
        });

        // Theme toggle
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeToggle.textContent = 'ðŸŒ™';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = 'â˜€ï¸';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.setAttribute('data-theme', 'dark');
            document.querySelector('.theme-toggle').textContent = 'â˜€ï¸';
        }

        // Modal functions
        function showModal(type) {
            const modal = document.getElementById(type + 'Modal');
            modal.style.display = 'flex';
        }

        function closeModal(type) {
            const modal = document.getElementById(type + 'Modal');
            modal.style.display = 'none';
        }

        // Section navigation
        function showSection(section) {
            // Hide all sections
            const sections = ['home', 'personalized', 'saved', 'admin'];
            sections.forEach(s => {
                const element = document.getElementById(s + '-section');
                if (element) element.style.display = 'none';
            });
            
            // Show selected section
            const targetSection = document.getElementById(section + '-section');
            if (targetSection) {
                targetSection.style.display = 'block';
                
                // Load section-specific content
                if (section === 'personalized') {
                    loadPersonalizedNews();
                } else if (section === 'saved') {
                    loadSavedArticles();
                }
            }
        }

        // News loading and filtering
        function loadNews() {
            const grid = document.getElementById('newsGrid');
            const loading = document.getElementById('loadingSpinner');
            
            loading.style.display = 'flex';
            
            setTimeout(() => {
                const filteredNews = currentCategory === 'all' 
                    ? newsData 
                    : newsData.filter(article => article.category === currentCategory);
                
                grid.innerHTML = filteredNews.map(article => createNewsCard(article)).join('');
                loading.style.display = 'none';
            }, 1000);
        }

        function createNewsCard(article) {
            const timeAgo = getTimeAgo(article.publishedAt);
            const isSaved = savedArticles.some(saved => saved.id === article.id);
            
            return `
                <div class="news-card">
                    <img src="${article.image}" alt="${article.title}" class="news-image">
                    <div class="news-content">
                        <div class="news-meta">
                            <span class="news-source">${article.source}</span>
                            <span>${timeAgo}</span>
                        </div>
                        <h3 class="news-title">${article.title}</h3>
                        <p class="news-summary">${article.summary}</p>
                        <div class="news-actions">
                            <a href="#" class="read-more" onclick="readFullArticle(${article.id})">Read Full Article</a>
                            <button class="save-btn ${isSaved ? 'saved' : ''}" onclick="toggleSave(this, ${article.id})">${isSaved ? 'ðŸ”–' : 'ðŸ”–'}</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function filterByCategory(category) {
            currentCategory = category;
            
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            loadNews();
        }

        function searchNews() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            if (!query) {
                loadNews();
                return;
            }
            
            const filteredNews = newsData.filter(article => 
                article.title.toLowerCase().includes(query) ||
                article.summary.toLowerCase().includes(query) ||
                article.source.toLowerCase().includes(query)
            );
            
            const grid = document.getElementById('newsGrid');
            grid.innerHTML = filteredNews.map(article => createNewsCard(article)).join('');
        }

        function loadPersonalizedNews() {
            const personalizedNews = newsData.filter(article => 
                userPreferences.includes(article.category)
            );
            
            const grid = document.getElementById('personalizedGrid');
            grid.innerHTML = personalizedNews.map(article => createNewsCard(article)).join('');
        }

        function loadSavedArticles() {
            const grid = document.getElementById('savedGrid');
            if (savedArticles.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">No saved articles yet. Start saving articles you want to read later!</p>';
            } else {
                grid.innerHTML = savedArticles.map(article => createNewsCard(article)).join('');
            }
        }

        // Utility functions
        function getTimeAgo(dateString) {
            const now = new Date();
            const publishedDate = new Date(dateString);
            const diffInHours = Math.floor((now - publishedDate) / (1000 * 60 * 60));
            
            if (diffInHours < 1) return 'Just now';
            if (diffInHours < 24) return `${diffInHours} hours ago`;
            
            const diffInDays = Math.floor(diffInHours / 24);
            return `${diffInDays} days ago`;
        }

        function toggleSave(button, articleId) {
            const article = newsData.find(a => a.id === articleId);
            if (!article) return;
            
            const existingIndex = savedArticles.findIndex(saved => saved.id === articleId);
            
            if (existingIndex > -1) {
                savedArticles.splice(existingIndex, 1);
                button.classList.remove('saved');
            } else {
                savedArticles.push(article);
                button.classList.add('saved');
            }
            
            localStorage.setItem('savedArticles', JSON.stringify(savedArticles));
        }

        function readFullArticle(articleId) {
            const article = newsData.find(a => a.id === articleId);
            if (article) {
                // In a real app, this would navigate to the full article
                alert(`Opening full article: "${article.title}"\n\nIn a real implementation, this would open the complete article with full content, related articles, and social sharing options.`);
            }
        }

        // Form handlers
        function handleLogin(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            
            // Simulate login process
            setTimeout(() => {
                currentUser = { email: formData.get('email') };
                closeModal('login');
                alert('Login successful! Welcome back to AI News Hub.');
                
                // Update UI for logged-in user
                updateAuthUI();
            }, 1000);
        }

        function handleRegister(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            
            // Simulate registration process
            setTimeout(() => {
                currentUser = { 
                    name: formData.get('name'),
                    email: formData.get('email') 
                };
                closeModal('register');
                alert('Registration successful! Welcome to AI News Hub.');
                
                // Update UI for logged-in user
                updateAuthUI();
            }, 1000);
        }

        function handlePreferences(event) {
            event.preventDefault();
            
            const checkboxes = event.target.querySelectorAll('input[type="checkbox"]:checked');
            userPreferences = Array.from(checkboxes).map(cb => cb.value);
            
            localStorage.setItem('userPreferences', JSON.stringify(userPreferences));
            closeModal('preferences');
            
            alert('Preferences saved! Your personalized feed has been updated.');
            
            // Refresh personalized feed if currently viewing
            const personalizedSection = document.getElementById('personalized-section');
            if (personalizedSection.style.display !== 'none') {
                loadPersonalizedNews();
            }
        }

        function updateAuthUI() {
            // In a real app, this would update the UI to show user info and logout option
            const authButtons = document.querySelector('.auth-buttons');
            if (currentUser) {
                // Update buttons to show user menu
                console.log('User logged in:', currentUser);
            }
        }

        // Close modals when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        });

        // Search on Enter key
        document.getElementById('searchInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                searchNews();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96bfbcb752295489',t:'MTc1NDY2MzY5NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
